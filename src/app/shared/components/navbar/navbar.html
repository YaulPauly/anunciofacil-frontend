<nav class="flex justify-between items-center lg:px-35 xl:px-80 px-4 h-20 bg-navbar text-color-text font-semibold relative">

    <!-- LOGO -->
    <div>
        <a class="flex items-center gap-2 cursor-pointer">
            <span class="text-2xl">Anuncia Facil</span>
        </a>
    </div>

    <!-- DESKTOP MENU -->
    <div class="hidden md:flex gap-10 items-center">

        <a routerLink="/anuncio" class="px-4 py-2 bg-color-text text-white rounded-xl hover:bg-neutral-500 transition-colors">
            Crear anuncio
        </a>

        <a routerLink="/inicio">Inicio</a>
        <a routerLink="/contacto">Contacto</a>

        <div class="relative">
            @if (isLoggedIn()) {

                <button (click)="toggleMenu.set(!toggleMenu())"
                    class="flex gap-4 items-center  bg-white px-2 py-1 rounded-lg cursor-pointer hover:shadow-md transition-shadow">
                    <img [src]="usuario().avatar" class="w-10 h-10 rounded-full" />
                    {{ usuario().nombre }}
                </button>

                @if (toggleMenu()) {
                    <div class="animation-dropdown absolute right-0 top-full bg-white shadow-lg rounded-b-lg p-6 flex flex-col gap-4 z-50">
                        <a routerLink="/perfil">Perfil</a>
                        <a routerLink="/mis-anuncios">Mis anuncios</a>
                        <a routerLink="/ajustes">Ajustes</a>
                        <button (click)="isLoggedIn.set(false)" class="text-red-500 text-left">
                            Cerrar sesi贸n
                        </button>
                    </div>
                }

            } @else {
                <a routerLink="/login">Iniciar sesi贸n</a>
            }
        </div>
    </div>

    <!-- HAMBURGER BUTTON (MOBILE) -->
    <button 
        (click)="mobileMenuOpen.set(!mobileMenuOpen())"
        class="md:hidden flex flex-col gap-1.5 p-2">

        <span class="w-6 h-0.5 bg-color-text transition-all"
              [class.rotate-45]="mobileMenuOpen()" 
              [class.translate-y-2]="mobileMenuOpen()">
        </span>

        <span class="w-6 h-0.5 bg-color-text transition-all"
              [class.opacity-0]="mobileMenuOpen()">
        </span>

        <span class="w-6 h-0.5 bg-color-text transition-all"
              [class.-rotate-45]="mobileMenuOpen()" 
              [class.-translate-y-2]="mobileMenuOpen()">
        </span>
    </button>

    <!-- MOBILE MENU -->
    @if (mobileMenuOpen()) {
        <div class="absolute top-20 left-0 w-full bg-navbar shadow-lg md:hidden p-4 flex flex-col gap-4 z-40">

            <a routerLink="/inicio" class="py-2">Inicio</a>
            <a routerLink="/contacto" class="py-2">Contacto</a>

            <a routerLink="/anuncio" 
               class="px-4 py-2 bg-color-text text-white rounded-xl hover:bg-neutral-500 transition-colors text-center">
               Crear anuncio
            </a>

            @if (isLoggedIn()) {
                

                <a routerLink="/perfil" class="py-2">Perfil</a>
                <a routerLink="/mis-anuncios" class="py-2">Mis anuncios</a>
                <a routerLink="/ajustes" class="py-2">Ajustes</a>

                <button (click)="isLoggedIn.set(false)" class="text-red-500 text-left py-2">
                    Cerrar sesi贸n
                </button>
            } @else {
                <a routerLink="/login" class="py-2">Iniciar sesi贸n</a>
            }
        </div>
    }
</nav>
