<div class="card group flex flex-col w-full h-full bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300">
  
  <div class="relative w-full aspect-4/3 overflow-hidden bg-gray-100">
    @if (item.imagenes) {
      <img 
        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" 
        [src]="item.imagenes" 
        [alt]="item.titulo">
    } @else {
      <div class="flex items-center justify-center w-full h-full text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path fill="currentColor" d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14L6 17h12l-3.86-5.14z"/></svg>
      </div>
    }
    
    <span class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-xs font-bold px-2 py-1 rounded-md shadow-sm uppercase tracking-wide text-gray-800">
      {{ item.categoria.nombreCategoria || 'General' }}
    </span>
  </div>

  <div class="p-5 flex flex-col grow gap-4">
    
    <h3 class="font-bold text-lg text-gray-900 leading-tight line-clamp-2" title="{{ item.titulo }}">
      {{ item.titulo }}
    </h3>
    
    <div class="flex items-center gap-2 text-sm text-gray-500 mb-2">
      <div class="w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-bold">
        {{ item.usuario.nombre.charAt(0) }}
      </div>
      <span>{{ item.usuario.nombre }}</span>
    </div>

    <a 
      [routerLink]="['/publicacion', item.idPublicacion]" 
      class="mt-auto w-full block text-center bg-slate-900 text-white text-sm font-medium py-2.5 rounded-lg hover:bg-slate-800 transition-colors focus:ring-4 focus:ring-slate-200">
      Ver detalles
    </a>
  </div>
</div>